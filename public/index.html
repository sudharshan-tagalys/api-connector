<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Search and search suggestions</title>
  <script src="./bundle.js" defer></script>
</head>

<body>
  <script>
    var setTagalysConfiguration = function () {
      Tagalys.setConfiguration({
        track: true,
        analyticsStorageConsentProvided: () => {
          return true
        },
        api: {
          serverUrl: "https://api-r1.tagalys.com",
          credentials: {
            clientCode: "9E025C0C7B874897",
            apiKey: "b0c1085ac35cd57b7e8323da9ef3a4b0",
          },
          storeId: "79335653678",
        },
        platform: "Shopify",
        locale: "en-US",
        currency: {
          displayFormatter: "{{currencyLabel}}{{value}}",
          code: "USD",
          label: "$",
          fractionalDigits: 2,
          forceFractionalDigits: true,
        },
        countryCode: "US",
        track: true,
        analyticsStorageConsentProvided: function () {
          return false
        },
        fallback: true
      });
    }

    var onTagalysReady = function (callback) {
      window.addEventListener("DOMContentLoaded", function () {
        setTagalysConfiguration()
        callback()
      })
    }

    onTagalysReady(function () {
      window.productListingPageInstance = Tagalys.APIConnector.ProductListingPage.new({
        params: {
          product_listing_page_id: "452577591598", // listing page id for which the products to be returned
        },
        onSuccess: function (response, helpers) {
          // Called after a successful API call
          // Use response to render the results - described below
        }
      })
      window.productListingPageInstance.helpers.call()
    })

  </script>
</body>

</html>